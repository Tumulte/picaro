(self.webpackChunkjavascript_development_environment=self.webpackChunkjavascript_development_environment||[]).push([[462],{5416:(t,e,n)=>{"use strict";n.d(e,{ML:()=>Wt,hj:()=>P,vc:()=>Gt,NB:()=>Yt,nU:()=>S,Nl:()=>w,EG:()=>te,hT:()=>Q,Cf:()=>Xt,K9:()=>Qt,P1:()=>x,x2:()=>Zt,pr:()=>ee});var o=n(6922),s=n(8780),r=n(3263),i=n(6296),a=n(896),c=n(1081),d=n(2778),l=n(4465);function u(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function p(t,e){if("string"==typeof t){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}function h(t,e){const n=p(e,t.schema),{from:o,to:s}=t.selection;let r=[];t.doc.nodesBetween(o,s,(t=>{r=[...r,t]}));const i=r.reverse().find((t=>t.type.name===n.name));return i?{...i.attrs}:{}}function m(t,e){if("string"==typeof t){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}function f(t,e){const n=m(e,t.schema),{from:o,to:s,empty:r}=t.selection;let i=[];r?i=t.selection.$head.marks():t.doc.nodesBetween(o,s,(t=>{i=[...i,...t.marks]}));const a=i.find((t=>t.type.name===n.name));return a?{...a.attrs}:{}}function g(t,e){const n=Object.keys(e);return!n.length||!!n.filter((n=>e[n]===t[n])).length}function b(t,e,n={}){const{from:o,to:s,empty:r}=t.selection,i=e?p(e,t.schema):null;let a=[];if(t.doc.nodesBetween(o,s,((t,e)=>{if(!t.isText){const n=Math.max(o,e),r=Math.min(s,e+t.nodeSize);a=[...a,{node:t,from:n,to:r}]}})),r)return!!a.filter((t=>!i||i.name===t.node.type.name)).find((t=>g(t.node.attrs,n)));const c=s-o;return a.filter((t=>!i||i.name===t.node.type.name)).filter((t=>g(t.node.attrs,n))).reduce(((t,e)=>t+(e.to-e.from)),0)>=c}function y(t,e,n={}){const{from:o,to:s,empty:r}=t.selection,i=e?m(e,t.schema):null;if(r)return!!(t.storedMarks||t.selection.$from.marks()).filter((t=>!i||i.name===t.type.name)).find((t=>g(t.attrs,n)));let a=0,c=[];if(t.doc.nodesBetween(o,s,((t,e)=>{if(t.isText){const n=Math.max(o,e),r=Math.min(s,e+t.nodeSize);a+=r-n,c=[...c,...t.marks.map((t=>({mark:t,from:n,to:r})))]}})),0===a)return!1;const d=c.filter((t=>!i||i.name===t.mark.type.name)).filter((t=>g(t.mark.attrs,n))).reduce(((t,e)=>t+(e.to-e.from)),0),l=c.filter((t=>!i||t.mark.type!==i&&t.mark.type.excludes(i))).reduce(((t,e)=>t+(e.to-e.from)),0);return(d>0?d+l:d)>=a}function v(t){const e=`<body>${t}</body>`;return(new window.DOMParser).parseFromString(e,"text/html").body}function M(t,e,n){if(n={slice:!0,parseOptions:{},...n},"object"==typeof t&&null!==t)try{return Array.isArray(t)?r.HY.fromArray(t.map((t=>e.nodeFromJSON(t)))):e.nodeFromJSON(t)}catch(o){return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",o),M("",e,n)}if("string"==typeof t){const o=r.aw.fromSchema(e);return n.slice?o.parseSlice(v(t),n.parseOptions).content:o.parse(v(t),n.parseOptions)}return M("",e,n)}function _(t,e,n={}){return M(t,e,{slice:!1,parseOptions:n})}class k{constructor(t,e){this.editor=t,this.commands=e}createCommands(){const{commands:t,editor:e}=this,{state:n,view:o}=e,{tr:s}=n,r=this.buildProps(s);return Object.fromEntries(Object.entries(t).map((([t,e])=>[t,(...t)=>{const n=e(...t)(r);return s.getMeta("preventDispatch")||o.dispatch(s),n}])))}createChain(t,e=!0){const{commands:n,editor:o}=this,{state:s,view:r}=o,i=[],a=!!t,c=t||s.tr,d={...Object.fromEntries(Object.entries(n).map((([t,n])=>[t,(...t)=>{const o=this.buildProps(c,e),s=n(...t)(o);return i.push(s),d}]))),run:()=>(a||!e||c.getMeta("preventDispatch")||r.dispatch(c),i.every((t=>!0===t)))};return d}createCan(t){const{commands:e,editor:n}=this,{state:o}=n,s=void 0,r=t||o.tr,i=this.buildProps(r,s);return{...Object.fromEntries(Object.entries(e).map((([t,e])=>[t,(...t)=>e(...t)({...i,dispatch:s})]))),chain:()=>this.createChain(r,s)}}buildProps(t,e=!0){const{editor:n,commands:o}=this,{state:s,view:r}=n;s.storedMarks&&t.setStoredMarks(s.storedMarks);const i={tr:t,editor:n,view:r,state:this.chainableState(t,s),dispatch:e?()=>{}:void 0,chain:()=>this.createChain(t),can:()=>this.createCan(t),get commands(){return Object.fromEntries(Object.entries(o).map((([t,e])=>[t,(...t)=>e(...t)(i)])))}};return i}chainableState(t,e){let{selection:n}=t,{doc:o}=t,{storedMarks:s}=t;return{...e,schema:e.schema,plugins:e.plugins,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return s},get selection(){return n},get doc(){return o},get tr(){return n=t.selection,o=t.doc,s=t.storedMarks,t}}}}function w(t,e,n={}){return void 0===t.config[e]&&t.parent?w(t.parent,e,n):"function"==typeof t.config[e]?t.config[e].bind({...n,parent:t.parent?w(t.parent,e,n):null}):t.config[e]}function O(t){return{baseExtensions:t.filter((t=>"extension"===t.type)),nodeExtensions:t.filter((t=>"node"===t.type)),markExtensions:t.filter((t=>"mark"===t.type))}}function T(t){const e=[],{nodeExtensions:n,markExtensions:o}=O(t),s=[...n,...o],r={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0};return t.forEach((t=>{const n=w(t,"addGlobalAttributes",{name:t.name,options:t.options});n&&n().forEach((t=>{t.types.forEach((n=>{Object.entries(t.attributes).forEach((([t,o])=>{e.push({type:n,name:t,attribute:{...r,...o}})}))}))}))})),s.forEach((t=>{const n={name:t.name,options:t.options},o=w(t,"addAttributes",n);if(!o)return;const s=o();Object.entries(s).forEach((([n,o])=>{e.push({type:t.name,name:n,attribute:{...r,...o}})}))})),e}function x(...t){return t.filter((t=>!!t)).reduce(((t,e)=>{const n={...t};return Object.entries(e).forEach((([t,e])=>{n[t]?n[t]="class"===t?[n[t],e].join(" "):"style"===t?[n[t],e].join("; "):e:n[t]=e})),n}),{})}function H(t,e){return e.filter((t=>t.attribute.rendered)).map((e=>e.attribute.renderHTML?e.attribute.renderHTML(t.attrs)||{}:{[e.name]:t.attrs[e.name]})).reduce(((t,e)=>x(t,e)),{})}function L(t,e){return t.style?t:{...t,getAttrs:n=>{const o=t.getAttrs?t.getAttrs(n):t.attrs;if(!1===o)return!1;const s=e.filter((t=>t.attribute.rendered)).reduce(((t,e)=>{const o=e.attribute.parseHTML?e.attribute.parseHTML(n)||{}:{[e.name]:(s=n.getAttribute(e.name),"string"!=typeof s?s:s.match(/^\d*(\.\d+)?$/)?Number(s):"true"===s||"false"!==s&&s)};var s;return{...t,...Object.fromEntries(Object.entries(o).filter((([,t])=>null!=t)))}}),{});return{...o,...s}}}}function S(t,e,...n){return"function"==typeof t?e?t.bind(e)(...n):t(...n):t}function C(t){return Object.fromEntries(Object.entries(t).filter((([t,e])=>("attrs"!==t||!function(t={}){return 0===Object.keys(t).length&&t.constructor===Object}(e))&&null!=e)))}function j(t,e){return e.nodes[t]?e.nodes[t]:e.marks[t]?e.marks[t]:null}class A{constructor(t,e){this.splittableMarks=[],this.editor=e,this.extensions=A.resolve(t),this.schema=function(t){var e;const n=T(t),{nodeExtensions:o,markExtensions:s}=O(t),i=null===(e=o.find((t=>w(t,"topNode"))))||void 0===e?void 0:e.name,a=Object.fromEntries(o.map((e=>{const o=n.filter((t=>t.type===e.name)),s={name:e.name,options:e.options},r=C({...t.reduce(((t,n)=>{const o=w(n,"extendNodeSchema",s);return{...t,...o?o(e):{}}}),{}),content:S(w(e,"content",s)),marks:S(w(e,"marks",s)),group:S(w(e,"group",s)),inline:S(w(e,"inline",s)),atom:S(w(e,"atom",s)),selectable:S(w(e,"selectable",s)),draggable:S(w(e,"draggable",s)),code:S(w(e,"code",s)),defining:S(w(e,"defining",s)),isolating:S(w(e,"isolating",s)),attrs:Object.fromEntries(o.map((t=>{var e;return[t.name,{default:null===(e=null==t?void 0:t.attribute)||void 0===e?void 0:e.default}]})))}),i=S(w(e,"parseHTML",s));i&&(r.parseDOM=i.map((t=>L(t,o))));const a=w(e,"renderHTML",s);return a&&(r.toDOM=t=>a({node:t,HTMLAttributes:H(t,o)})),[e.name,r]}))),c=Object.fromEntries(s.map((e=>{const o=n.filter((t=>t.type===e.name)),s={name:e.name,options:e.options},r=C({...t.reduce(((t,n)=>{const o=w(n,"extendMarkSchema",s);return{...t,...o?o(e):{}}}),{}),inclusive:S(w(e,"inclusive",s)),excludes:S(w(e,"excludes",s)),group:S(w(e,"group",s)),spanning:S(w(e,"spanning",s)),attrs:Object.fromEntries(o.map((t=>{var e;return[t.name,{default:null===(e=null==t?void 0:t.attribute)||void 0===e?void 0:e.default}]})))}),i=S(w(e,"parseHTML",s));i&&(r.parseDOM=i.map((t=>L(t,o))));const a=w(e,"renderHTML",s);return a&&(r.toDOM=t=>a({mark:t,HTMLAttributes:H(t,o)})),[e.name,r]})));return new r.V_({topNode:i,nodes:a,marks:c})}(this.extensions),this.extensions.forEach((t=>{var e;const n={name:t.name,options:t.options,editor:this.editor,type:j(t.name,this.schema)};"mark"===t.type&&(null===(e=S(w(t,"keepOnSplit",n)))||void 0===e||e)&&this.splittableMarks.push(t.name);const o=w(t,"onBeforeCreate",n);o&&this.editor.on("beforeCreate",o);const s=w(t,"onCreate",n);s&&this.editor.on("create",s);const r=w(t,"onUpdate",n);r&&this.editor.on("update",r);const i=w(t,"onSelectionUpdate",n);i&&this.editor.on("selectionUpdate",i);const a=w(t,"onTransaction",n);a&&this.editor.on("transaction",a);const c=w(t,"onFocus",n);c&&this.editor.on("focus",c);const d=w(t,"onBlur",n);d&&this.editor.on("blur",d);const l=w(t,"onDestroy",n);l&&this.editor.on("destroy",l)}))}static resolve(t){return A.sort(A.flatten(t))}static flatten(t){return t.map((t=>{const e=w(t,"addExtensions",{name:t.name,options:t.options});return e?[t,...this.flatten(e())]:t})).flat(10)}static sort(t){return t.sort(((t,e)=>{const n=w(t,"priority")||100,o=w(e,"priority")||100;return n>o?-1:n<o?1:0}))}get commands(){return this.extensions.reduce(((t,e)=>{const n=w(e,"addCommands",{name:e.name,options:e.options,editor:this.editor,type:j(e.name,this.schema)});return n?{...t,...n()}:t}),{})}get plugins(){return[...this.extensions].reverse().map((t=>{const e={name:t.name,options:t.options,editor:this.editor,type:j(t.name,this.schema)},n=[],o=w(t,"addKeyboardShortcuts",e);if(o){const t=Object.fromEntries(Object.entries(o()).map((([t,e])=>[t,()=>e({editor:this.editor})]))),e=(0,i.h)(t);n.push(e)}const s=w(t,"addInputRules",e);if(this.editor.options.enableInputRules&&s){const t=s(),e=t.length?[(0,a.Hw)({rules:t})]:[];n.push(...e)}const r=w(t,"addPasteRules",e);if(this.editor.options.enablePasteRules&&r){const t=r();n.push(...t)}const c=w(t,"addProseMirrorPlugins",e);if(c){const t=c();n.push(...t)}return n})).flat()}get attributes(){return T(this.extensions)}get nodeViews(){const{editor:t}=this,{nodeExtensions:e}=O(this.extensions);return Object.fromEntries(e.filter((t=>!!w(t,"addNodeView"))).map((e=>{const n=this.attributes.filter((t=>t.type===e.name)),o={name:e.name,options:e.options,editor:t,type:p(e.name,this.schema)},s=w(e,"addNodeView",o);return s?[e.name,(o,r,i,a)=>{const c=H(o,n);return s()({editor:t,node:o,getPos:i,decorations:a,HTMLAttributes:c,extension:e})}]:[]})))}get textSerializers(){const{editor:t}=this,{nodeExtensions:e}=O(this.extensions);return Object.fromEntries(e.filter((t=>!!w(t,"renderText"))).map((e=>{const n=w(e,"renderText",{name:e.name,options:e.options,editor:t,type:p(e.name,this.schema)});return n?[e.name,t=>n(t)]:[]})))}}function E(t){return"Object"===function(t){return Object.prototype.toString.call(t).slice(8,-1)}(t)&&t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function z(t,e){const n={...t};return E(t)&&E(e)&&Object.keys(e).forEach((o=>{E(e[o])?o in t?n[o]=z(t[o],e[o]):Object.assign(n,{[o]:e[o]}):Object.assign(n,{[o]:e[o]})})),n}class P{constructor(t={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...t},this.name=this.config.name,this.options=this.config.defaultOptions}static create(t={}){return new P(t)}configure(t={}){const e=this.extend();return e.options=z(this.options,t),e}extend(t={}){const e=new P(t);return e.parent=this,this.child=e,e.name=t.name?t.name:e.parent.name,e.options=t.defaultOptions?t.defaultOptions:e.parent.options,e}}const B=P.create({name:"editable",addProseMirrorPlugins(){return[new o.Sy({key:new o.H$("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{from:e,to:n}=t.state.selection;return((t,e,n,o,s)=>{let r="",i=!0;return t.state.doc.nodesBetween(e,n,((s,a)=>{var c;const d=t.extensionManager.textSerializers[s.type.name];d?(r+=d({node:s}),i=!1):s.isText?(r+=null===(c=null==s?void 0:s.text)||void 0===c?void 0:c.slice(Math.max(e,a)-a,n-a),i=!1):(s.isLeaf,!i&&s.isBlock&&(r+=o,i=!0))}),0),r})(t,e,n,"\n")}}})]}});var $=Object.freeze({__proto__:null,blur:()=>({view:t})=>(t.dom.blur(),!0)}),N=Object.freeze({__proto__:null,clearContent:(t=!1)=>({commands:e})=>e.setContent("",t)}),I=Object.freeze({__proto__:null,clearNodes:()=>({state:t,tr:e,dispatch:n})=>{const{selection:o}=e,{ranges:s}=o;return s.forEach((o=>{t.doc.nodesBetween(o.$from.pos,o.$to.pos,((t,o)=>{if(t.type.isText)return;const s=e.doc.resolve(e.mapping.map(o)),r=e.doc.resolve(e.mapping.map(o+t.nodeSize)),i=s.blockRange(r);if(!i)return;const a=(0,c.k9)(i);if(t.type.isTextblock&&n){const{defaultType:t}=s.parent.contentMatchAt(s.index());e.setNodeMarkup(i.start,t)}(a||0===a)&&n&&e.lift(i,a)}))})),!0}}),R=Object.freeze({__proto__:null,command:t=>e=>t(e)}),K=Object.freeze({__proto__:null,createParagraphNear:()=>({state:t,dispatch:e})=>(0,d.mD)(t,e)}),q=Object.freeze({__proto__:null,deleteRange:t=>({tr:e,dispatch:n})=>{const{from:o,to:s}=t;return n&&e.delete(o,s),!0}}),D=Object.freeze({__proto__:null,deleteSelection:()=>({state:t,dispatch:e})=>(0,d.NE)(t,e)}),F=Object.freeze({__proto__:null,enter:()=>({commands:t})=>t.keyboardShortcut("Enter")}),V=Object.freeze({__proto__:null,exitCode:()=>({state:t,dispatch:e})=>(0,d.uo)(t,e)});function U(t,e,n={}){return t.find((t=>t.type===e&&g(t.attrs,n)))}function J(t,e,n={}){return!!U(t,e,n)}function W(t,e,n={}){if(!t||!e)return;const o=t.parent.childAfter(t.parentOffset);if(!o.node)return;const s=U(o.node.marks,e,n);if(!s)return;let r=t.index(),i=t.start()+o.offset,a=r+1,c=i+o.node.nodeSize;for(U(o.node.marks,e,n);r>0&&s.isInSet(t.parent.child(r-1).marks);)r-=1,i-=t.parent.child(r).nodeSize;for(;a<t.parent.childCount&&J(t.parent.child(a).marks,e,n);)c+=t.parent.child(a).nodeSize,a+=1;return{from:i,to:c}}var Y=Object.freeze({__proto__:null,extendMarkRange:(t,e={})=>({tr:n,state:s,dispatch:r})=>{const i=m(t,s.schema),{doc:a,selection:c}=n,{$from:d,from:l,to:u}=c;if(r){const t=W(d,i,e);if(t&&t.from<=l&&t.to>=u){const e=o.Bs.create(a,t.from,t.to);n.setSelection(e)}}return!0}}),G=Object.freeze({__proto__:null,first:t=>e=>{const n="function"==typeof t?t(e):t;for(let t=0;t<n.length;t+=1)if(n[t](e))return!0;return!1}});function Z(t=0,e=0,n=0){return Math.min(Math.max(t,e),n)}function X(t){return t&&"object"==typeof t&&!Array.isArray(t)&&!function(t){var e;return"class"===(null===(e=t.constructor)||void 0===e?void 0:e.toString().substring(0,5))}(t)}function Q(t){return X(t)&&t instanceof o.Bs}var tt=Object.freeze({__proto__:null,focus:(t=null)=>({editor:e,view:n,tr:s,dispatch:r})=>{if(n.hasFocus()&&null===t||!1===t)return!0;if(r&&null===t&&!Q(e.state.selection))return n.focus(),!0;const{from:i,to:a}=function(t,e=null){if(!e)return null;if("start"===e||!0===e)return{from:0,to:0};if("end"===e){const{size:e}=t.doc.content;return{from:e,to:e}}return{from:e,to:e}}(e.state,t)||e.state.selection,{doc:c,storedMarks:d}=s,l=Z(i,0,c.content.size),u=Z(a,0,c.content.size),p=o.Bs.create(c,l,u),h=e.state.selection.eq(p);return r&&(s.setSelection(p),h&&d&&s.setStoredMarks(d),n.focus()),!0}}),et=Object.freeze({__proto__:null,forEach:(t,e)=>n=>t.every(((t,o)=>e(t,{...n,index:o})))}),nt=Object.freeze({__proto__:null,insertContent:t=>({tr:e,commands:n})=>n.insertContentAt({from:e.selection.from,to:e.selection.to},t)}),ot=Object.freeze({__proto__:null,insertContentAt:(t,e)=>({tr:n,dispatch:s,editor:r})=>{if(s){const s=M(e,r.schema,{parseOptions:{preserveWhitespace:"full"}});if("<>"===s.toString())return!0;const{from:i,to:a}="number"==typeof t?{from:t,to:t}:t;n.replaceWith(i,a,s),function(t,e,n){const s=t.steps.length-1;if(s<e)return;const r=t.steps[s];if(!(r instanceof c.Pu||r instanceof c.FC))return;const i=t.mapping.maps[s];let a=0;i.forEach(((t,e,n,o)=>{0===a&&(a=o)})),t.setSelection(o.Y1.near(t.doc.resolve(a),1))}(n,n.steps.length-1)}return!0}}),st=Object.freeze({__proto__:null,joinBackward:()=>({state:t,dispatch:e})=>(0,d.al)(t,e)}),rt=Object.freeze({__proto__:null,joinForward:()=>({state:t,dispatch:e})=>(0,d.Y_)(t,e)});const it="undefined"!=typeof navigator&&/Mac/.test(navigator.platform);var at=Object.freeze({__proto__:null,keyboardShortcut:t=>({editor:e,view:n,tr:o,dispatch:s})=>{const r=function(t){const e=t.split(/-(?!$)/);let n,o,s,r,i=e[e.length-1];"Space"===i&&(i=" ");for(let t=0;t<e.length-1;t+=1){const i=e[t];if(/^(cmd|meta|m)$/i.test(i))r=!0;else if(/^a(lt)?$/i.test(i))n=!0;else if(/^(c|ctrl|control)$/i.test(i))o=!0;else if(/^s(hift)?$/i.test(i))s=!0;else{if(!/^mod$/i.test(i))throw new Error(`Unrecognized modifier name: ${i}`);it?r=!0:o=!0}}return n&&(i=`Alt-${i}`),o&&(i=`Ctrl-${i}`),r&&(i=`Meta-${i}`),s&&(i=`Shift-${i}`),i}(t).split(/-(?!$)/),i=r.find((t=>!["Alt","Ctrl","Meta","Shift"].includes(t))),a=new KeyboardEvent("keydown",{key:"Space"===i?" ":i,altKey:r.includes("Alt"),ctrlKey:r.includes("Ctrl"),metaKey:r.includes("Meta"),shiftKey:r.includes("Shift"),bubbles:!0,cancelable:!0}),c=e.captureTransaction((()=>{n.someProp("handleKeyDown",(t=>t(n,a)))}));return null==c||c.steps.forEach((t=>{const e=t.map(o.mapping);e&&s&&o.maybeStep(e)})),!0}}),ct=Object.freeze({__proto__:null,lift:(t,e={})=>({state:n,dispatch:o})=>!!b(n,p(t,n.schema),e)&&(0,d.xb)(n,o)}),dt=Object.freeze({__proto__:null,liftEmptyBlock:()=>({state:t,dispatch:e})=>(0,d.X0)(t,e)}),lt=Object.freeze({__proto__:null,liftListItem:t=>({state:e,dispatch:n})=>{const o=p(t,e.schema);return(0,l.IB)(o)(e,n)}}),ut=Object.freeze({__proto__:null,newlineInCode:()=>({state:t,dispatch:e})=>(0,d.QK)(t,e)}),pt=Object.freeze({__proto__:null,replace:(t,e={})=>({state:n,commands:o})=>{console.warn("[tiptap warn]: replace() is deprecated. please use insertContent() instead.");const{from:s,to:r}=n.selection,i={from:s,to:r};return o.replaceRange(i,t,e)}}),ht=Object.freeze({__proto__:null,replaceRange:(t,e,n={})=>({tr:o,state:s,dispatch:r})=>{console.warn("[tiptap warn]: replaceRange() is deprecated. please use insertContent() instead.");const i=p(e,s.schema),{from:a,to:c}=t;return r&&o.replaceRangeWith(a,c,i.create(n)),!0}});function mt(t,e){const n="string"==typeof e?[e]:e;return Object.keys(t).reduce(((e,o)=>(n.includes(o)||(e[o]=t[o]),e)),{})}var ft=Object.freeze({__proto__:null,resetAttributes:(t,e)=>({tr:n,state:o,dispatch:s})=>{let r=null,i=null;const a=u("string"==typeof t?t:t.name,o.schema);return!!a&&("node"===a&&(r=p(t,o.schema)),"mark"===a&&(i=m(t,o.schema)),s&&n.selection.ranges.forEach((t=>{o.doc.nodesBetween(t.$from.pos,t.$to.pos,((t,o)=>{r&&r===t.type&&n.setNodeMarkup(o,void 0,mt(t.attrs,e)),i&&t.marks.length&&t.marks.forEach((s=>{i===s.type&&n.addMark(o,o+t.nodeSize,i.create(mt(s.attrs,e)))}))}))})),!0)}}),gt=Object.freeze({__proto__:null,scrollIntoView:()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0)}),bt=Object.freeze({__proto__:null,selectAll:()=>({state:t,dispatch:e})=>(0,d.td)(t,e)}),yt=Object.freeze({__proto__:null,selectNodeBackward:()=>({state:t,dispatch:e})=>(0,d._M)(t,e)}),vt=Object.freeze({__proto__:null,selectNodeForward:()=>({state:t,dispatch:e})=>(0,d.o)(t,e)}),Mt=Object.freeze({__proto__:null,selectParentNode:()=>({state:t,dispatch:e})=>(0,d.N0)(t,e)}),_t=Object.freeze({__proto__:null,setContent:(t,e=!1,n={})=>({tr:s,editor:r,dispatch:i})=>{const{doc:a}=s,c=_(t,r.schema,n),d=o.Bs.create(a,0,a.content.size);return i&&s.setSelection(d).replaceSelectionWith(c,!1).setMeta("preventUpdate",!e),!0}}),kt=Object.freeze({__proto__:null,setMark:(t,e={})=>({tr:n,state:o,dispatch:s})=>{const{selection:r}=n,{empty:i,ranges:a}=r,c=m(t,o.schema);if(s)if(i){const t=f(o,c);n.addStoredMark(c.create({...t,...e}))}else a.forEach((t=>{const s=t.$from.pos,r=t.$to.pos;o.doc.nodesBetween(s,r,((t,o)=>{const i=Math.max(o,s),a=Math.min(o+t.nodeSize,r);t.marks.find((t=>t.type===c))?t.marks.forEach((t=>{c===t.type&&n.addMark(i,a,c.create({...t.attrs,...e}))})):n.addMark(i,a,c.create(e))}))}));return!0}}),wt=Object.freeze({__proto__:null,setMeta:(t,e)=>({tr:n})=>(n.setMeta(t,e),!0)}),Ot=Object.freeze({__proto__:null,setNode:(t,e={})=>({state:n,dispatch:o})=>{const s=p(t,n.schema);return(0,d.uJ)(s,e)(n,o)}}),Tt=Object.freeze({__proto__:null,setNodeSelection:t=>({tr:e,dispatch:n})=>{if(n){const{doc:n}=e,s=Z(t,0,n.content.size),r=o.qv.create(n,s);e.setSelection(r)}return!0}}),xt=Object.freeze({__proto__:null,setTextSelection:t=>({tr:e,dispatch:n})=>{if(n){const{doc:n}=e,{from:s,to:r}="number"==typeof t?{from:t,to:t}:t,i=Z(s,0,n.content.size),a=Z(r,0,n.content.size),c=o.Bs.create(n,i,a);e.setSelection(c)}return!0}}),Ht=Object.freeze({__proto__:null,sinkListItem:t=>({state:e,dispatch:n})=>{const o=p(t,e.schema);return(0,l.bw)(o)(e,n)}});function Lt(t,e,n){return Object.fromEntries(Object.entries(n).filter((([n])=>{const o=t.find((t=>t.type===e&&t.name===n));return!!o&&o.attribute.keepOnSplit})))}function St(t,e){const n=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(n){const o=n.filter((t=>null==e?void 0:e.includes(t.type.name)));t.tr.ensureMarks(o)}}var Ct=Object.freeze({__proto__:null,splitBlock:({keepMarks:t=!0}={})=>({tr:e,state:n,dispatch:s,editor:r})=>{const{selection:i,doc:a}=e,{$from:d,$to:l}=i,u=Lt(r.extensionManager.attributes,d.node().type.name,d.node().attrs);if(i instanceof o.qv&&i.node.isBlock)return!(!d.parentOffset||!(0,c.Ax)(a,d.pos)||(s&&(t&&St(n,r.extensionManager.splittableMarks),e.split(d.pos).scrollIntoView()),0));if(!d.parent.isBlock)return!1;if(s){const s=l.parentOffset===l.parent.content.size;i instanceof o.Bs&&e.deleteSelection();const a=0===d.depth?void 0:function(t){for(let e=0;e<t.edgeCount;e+=1){const{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}(d.node(-1).contentMatchAt(d.indexAfter(-1)));let p=s&&a?[{type:a,attrs:u}]:void 0,h=(0,c.Ax)(e.doc,e.mapping.map(d.pos),1,p);if(p||h||!(0,c.Ax)(e.doc,e.mapping.map(d.pos),1,a?[{type:a}]:void 0)||(h=!0,p=a?[{type:a,attrs:u}]:void 0),h&&(e.split(e.mapping.map(d.pos),1,p),a&&!s&&!d.parentOffset&&d.parent.type!==a)){const t=e.mapping.map(d.before()),n=e.doc.resolve(t);d.node(-1).canReplaceWith(n.index(),n.index()+1,a)&&e.setNodeMarkup(e.mapping.map(d.before()),a)}t&&St(n,r.extensionManager.splittableMarks),e.scrollIntoView()}return!0}}),jt=Object.freeze({__proto__:null,splitListItem:t=>({tr:e,state:n,dispatch:s,editor:i})=>{var a;const d=p(t,n.schema),{$from:l,$to:u}=n.selection,h=n.selection.node;if(h&&h.isBlock||l.depth<2||!l.sameParent(u))return!1;const m=l.node(-1);if(m.type!==d)return!1;const f=i.extensionManager.attributes;if(0===l.parent.content.size&&l.node(-1).childCount===l.indexAfter(-1)){if(2===l.depth||l.node(-3).type!==d||l.index(-2)!==l.node(-2).childCount-1)return!1;if(s){let t=r.HY.empty;const n=l.index(-1)?1:l.index(-2)?2:3;for(let e=l.depth-n;e>=l.depth-3;e-=1)t=r.HY.from(l.node(e).copy(t));const s=l.indexAfter(-1)<l.node(-2).childCount?1:l.indexAfter(-2)<l.node(-3).childCount?2:3,i=Lt(f,l.node().type.name,l.node().attrs),c=(null===(a=d.contentMatch.defaultType)||void 0===a?void 0:a.createAndFill(i))||void 0;t=t.append(r.HY.from(d.createAndFill(null,c)||void 0));const u=l.before(l.depth-(n-1));e.replace(u,l.after(-s),new r.p2(t,4-n,0));let p=-1;e.doc.nodesBetween(u,e.doc.content.size,((t,e)=>{if(p>-1)return!1;t.isTextblock&&0===t.content.size&&(p=e+1)})),p>-1&&e.setSelection(o.Bs.near(e.doc.resolve(p))),e.scrollIntoView()}return!0}const g=u.pos===l.end()?m.contentMatchAt(0).defaultType:null,b=Lt(f,m.type.name,m.attrs),y=Lt(f,l.node().type.name,l.node().attrs);e.delete(l.pos,u.pos);const v=g?[{type:d,attrs:b},{type:g,attrs:y}]:[{type:d,attrs:b}];return!!(0,c.Ax)(e.doc,l.pos,2)&&(s&&e.split(l.pos,2,v).scrollIntoView(),!0)}});function At(t,e){const{nodeExtensions:n}=O(e),o=n.find((e=>e.name===t));if(!o)return!1;const s=S(w(o,"group",{name:o.name,options:o.options}));return"string"==typeof s&&s.split(" ").includes("list")}var Et=Object.freeze({__proto__:null,toggleList:(t,e)=>({editor:n,tr:o,state:s,dispatch:r,chain:i,commands:a,can:c})=>{const{extensions:d}=n.extensionManager,l=p(t,s.schema),u=p(e,s.schema),{selection:h}=s,{$from:m,$to:f}=h,g=m.blockRange(f);if(!g)return!1;const b=(y=t=>At(t.type.name,d),t=>function(t,e){for(let n=t.depth;n>0;n-=1){const o=t.node(n);if(e(o))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:o}}}(t.$from,y))(h);var y;if(g.depth>=1&&b&&g.depth-b.depth<=1){if(b.node.type===l)return a.liftListItem(u);if(At(b.node.type.name,d)&&l.validContent(b.node.content)&&r)return o.setNodeMarkup(b.pos,l),!0}return c().wrapInList(l)?a.wrapInList(l):i().clearNodes().wrapInList(l).run()}}),zt=Object.freeze({__proto__:null,toggleMark:(t,e={})=>({state:n,commands:o})=>{const s=m(t,n.schema);return y(n,s,e)?o.unsetMark(s):o.setMark(s,e)}}),Pt=Object.freeze({__proto__:null,toggleNode:(t,e,n={})=>({state:o,commands:s})=>{const r=p(t,o.schema),i=p(e,o.schema);return b(o,r,n)?s.setNode(i):s.setNode(r,n)}}),Bt=Object.freeze({__proto__:null,toggleWrap:(t,e={})=>({state:n,dispatch:o})=>{const s=p(t,n.schema);return b(n,s,e)?(0,d.xb)(n,o):(0,d.ym)(s,e)(n,o)}}),$t=Object.freeze({__proto__:null,undoInputRule:()=>({state:t,dispatch:e})=>(0,a.dU)(t,e)}),Nt=Object.freeze({__proto__:null,unsetAllMarks:()=>({tr:t,state:e,dispatch:n})=>{const{selection:o}=t,{empty:s,ranges:r}=o;return s||n&&Object.entries(e.schema.marks).forEach((([,e])=>{r.forEach((n=>{t.removeMark(n.$from.pos,n.$to.pos,e)}))})),!0}}),It=Object.freeze({__proto__:null,unsetMark:t=>({tr:e,state:n,dispatch:o})=>{const{selection:s}=e,r=m(t,n.schema),{$from:i,empty:a,ranges:c}=s;if(o){if(a){let{from:t,to:n}=s;const o=W(i,r);o&&(t=o.from,n=o.to),e.removeMark(t,n,r)}else c.forEach((t=>{e.removeMark(t.$from.pos,t.$to.pos,r)}));e.removeStoredMark(r)}return!0}}),Rt=Object.freeze({__proto__:null,updateAttributes:(t,e={})=>({tr:n,state:o,dispatch:s})=>{let r=null,i=null;const a=u("string"==typeof t?t:t.name,o.schema);return!!a&&("node"===a&&(r=p(t,o.schema)),"mark"===a&&(i=m(t,o.schema)),s&&n.selection.ranges.forEach((t=>{const s=t.$from.pos,a=t.$to.pos;o.doc.nodesBetween(s,a,((t,o)=>{r&&r===t.type&&n.setNodeMarkup(o,void 0,{...t.attrs,...e}),i&&t.marks.length&&t.marks.forEach((r=>{if(i===r.type){const c=Math.max(o,s),d=Math.min(o+t.nodeSize,a);n.addMark(c,d,i.create({...r.attrs,...e}))}}))}))})),!0)}}),Kt=Object.freeze({__proto__:null,wrapIn:(t,e={})=>({state:n,dispatch:o})=>{const s=p(t,n.schema);return!b(n,s,e)&&(0,d.ym)(s,e)(n,o)}}),qt=Object.freeze({__proto__:null,wrapInList:(t,e={})=>({state:n,dispatch:o})=>{const s=p(t,n.schema);return(0,l.KI)(s,e)(n,o)}});const Dt=P.create({name:"commands",addCommands:()=>({...$,...N,...I,...R,...K,...q,...D,...F,...V,...Y,...G,...tt,...et,...nt,...ot,...st,...rt,...at,...ct,...dt,...lt,...ut,...pt,...ht,...ft,...gt,...bt,...yt,...vt,...Mt,..._t,...kt,...wt,...Ot,...Tt,...xt,...Ht,...Ct,...jt,...Et,...zt,...Pt,...Bt,...$t,...Nt,...It,...Rt,...Kt,...qt})}),Ft=P.create({name:"editable",addProseMirrorPlugins(){return[new o.Sy({key:new o.H$("editable"),props:{editable:()=>this.editor.options.editable}})]}}),Vt=P.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new o.Sy({key:new o.H$("focusEvents"),props:{attributes:{tabindex:"0"},handleDOMEvents:{focus:(e,n)=>{t.isFocused=!0;const o=t.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return e.dispatch(o),!1},blur:(e,n)=>{t.isFocused=!1;const o=t.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return e.dispatch(o),!1}}}})]}}),Ut=P.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first((({commands:t})=>[()=>t.undoInputRule(),()=>t.deleteSelection(),()=>t.joinBackward(),()=>t.selectNodeBackward()])),e=()=>this.editor.commands.first((({commands:t})=>[()=>t.deleteSelection(),()=>t.joinForward(),()=>t.selectNodeForward()]));return{Enter:()=>this.editor.commands.first((({commands:t})=>[()=>t.newlineInCode(),()=>t.createParagraphNear(),()=>t.liftEmptyBlock(),()=>t.splitBlock()])),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:()=>t(),"Mod-Backspace":()=>t(),Delete:()=>e(),"Mod-Delete":()=>e()}}});var Jt=Object.freeze({__proto__:null,ClipboardTextSerializer:B,Commands:Dt,Editable:Ft,FocusEvents:Vt,Keymap:Ut});class Wt extends class{constructor(){this.callbacks={}}on(t,e){return this.callbacks[t]||(this.callbacks[t]=[]),this.callbacks[t].push(e),this}emit(t,...e){const n=this.callbacks[t];return n&&n.forEach((t=>t.apply(this,e))),this}off(t,e){const n=this.callbacks[t];return n&&(e?this.callbacks[t]=n.filter((t=>t!==e)):delete this.callbacks[t]),this}removeAllListeners(){this.callbacks={}}}{constructor(t={}){super(),this.isFocused=!1,this.options={element:document.createElement("div"),content:"",injectCSS:!0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},enableInputRules:!0,enablePasteRules:!0,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(t),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),window.setTimeout((()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}))}),0)}get commands(){return this.commandManager.createCommands()}chain(){return this.commandManager.createChain()}can(){return this.commandManager.createCan()}injectCSS(){this.options.injectCSS&&document&&(this.css=function(t){const e=document.querySelector("style[data-tiptap-style]");if(null!==e)return e;const n=document.createElement("style");return n.setAttribute("data-tiptap-style",""),n.innerHTML='.ProseMirror {\n  position: relative;\n}\n\n.ProseMirror {\n  word-wrap: break-word;\n  white-space: pre-wrap;\n  -webkit-font-variant-ligatures: none;\n  font-variant-ligatures: none;\n}\n\n.ProseMirror [contenteditable="false"] {\n  white-space: normal;\n}\n\n.ProseMirror [contenteditable="false"] [contenteditable="true"] {\n  white-space: pre-wrap;\n}\n\n.ProseMirror pre {\n  white-space: pre-wrap;\n}\n\n.ProseMirror-gapcursor {\n  display: none;\n  pointer-events: none;\n  position: absolute;\n}\n\n.ProseMirror-gapcursor:after {\n  content: "";\n  display: block;\n  position: absolute;\n  top: -2px;\n  width: 20px;\n  border-top: 1px solid black;\n  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;\n}\n\n@keyframes ProseMirror-cursor-blink {\n  to {\n    visibility: hidden;\n  }\n}\n\n.ProseMirror-hideselection *::selection {\n  background: transparent;\n}\n\n.ProseMirror-hideselection *::-moz-selection {\n  background: transparent;\n}\n\n.ProseMirror-hideselection * {\n  caret-color: transparent;\n}\n\n.ProseMirror-focused .ProseMirror-gapcursor {\n  display: block;\n}\n\n.tippy-box[data-animation=fade][data-state=hidden] {\n  opacity: 0\n}',document.getElementsByTagName("head")[0].appendChild(n),n}())}setOptions(t={}){this.options={...this.options,...t}}setEditable(t){this.setOptions({editable:t}),this.view&&this.state&&!this.isDestroyed&&this.view.updateState(this.state)}get isEditable(){return this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(t,e){const n="function"==typeof e?e(t,this.state.plugins):[...this.state.plugins,t],o=this.state.reconfigure({plugins:n});this.view.updateState(o)}unregisterPlugin(t){if(this.isDestroyed)return;const e="string"==typeof t?`${t}$`:t.key,n=this.state.reconfigure({plugins:this.state.plugins.filter((t=>!t.key.startsWith(e)))});this.view.updateState(n)}createExtensionManager(){const t=[...Object.entries(Jt).map((([,t])=>t)),...this.options.extensions].filter((t=>["extension","node","mark"].includes(null==t?void 0:t.type)));this.extensionManager=new A(t,this)}createCommandManager(){this.commandManager=new k(this,this.extensionManager.commands)}createSchema(){this.schema=this.extensionManager.schema}createView(){this.view=new s.tk(this.options.element,{...this.options.editorProps,dispatchTransaction:this.dispatchTransaction.bind(this),state:o.yy.create({doc:_(this.options.content,this.schema,this.options.parseOptions)})});const t=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(t),this.createNodeViews(),this.view.dom.editor=this}createNodeViews(){this.view.setProps({nodeViews:this.extensionManager.nodeViews})}captureTransaction(t){this.isCapturingTransaction=!0,t(),this.isCapturingTransaction=!1;const e=this.capturedTransaction;return this.capturedTransaction=null,e}dispatchTransaction(t){if(this.isCapturingTransaction)return this.capturedTransaction?void t.steps.forEach((t=>{var e;return null===(e=this.capturedTransaction)||void 0===e?void 0:e.step(t)})):void(this.capturedTransaction=t);const e=this.state.apply(t),n=!this.state.selection.eq(e.selection);this.view.updateState(e),this.emit("transaction",{editor:this,transaction:t}),n&&this.emit("selectionUpdate",{editor:this});const o=t.getMeta("focus"),s=t.getMeta("blur");o&&this.emit("focus",{editor:this,event:o.event}),s&&this.emit("blur",{editor:this,event:s.event}),t.docChanged&&!t.getMeta("preventUpdate")&&this.emit("update",{editor:this,transaction:t})}getAttributes(t){return function(t,e){const n=u("string"==typeof e?e:e.name,t.schema);return"node"===n?h(t,e):"mark"===n?f(t,e):{}}(this.state,t)}getNodeAttributes(t){return console.warn("[tiptap warn]: editor.getNodeAttributes() is deprecated. please use editor.getAttributes() instead."),h(this.state,t)}getMarkAttributes(t){return console.warn("[tiptap warn]: editor.getMarkAttributes() is deprecated. please use editor.getAttributes() instead."),f(this.state,t)}isActive(t,e){const n="string"==typeof t?t:null,o="string"==typeof t?e:t;return function(t,e,n={}){if(!e)return b(t,null,n)||y(t,null,n);const o=u(e,t.schema);return"node"===o?b(t,e,n):"mark"===o&&y(t,e,n)}(this.state,n,o)}getJSON(){return this.state.doc.toJSON()}getHTML(){return function(t,e){const n=r.PW.fromSchema(e).serializeFragment(t.content),o=document.implementation.createHTMLDocument().createElement("div");return o.appendChild(n),o.innerHTML}(this.state.doc,this.schema)}get isEmpty(){return function(t){var e;const n=null===(e=t.type.createAndFill())||void 0===e?void 0:e.toJSON(),o=t.toJSON();return JSON.stringify(n)===JSON.stringify(o)}(this.state.doc)}getCharacterCount(){return this.state.doc.content.size-2}destroy(){var t;this.emit("destroy"),this.view&&this.view.destroy(),this.removeAllListeners(),(t=this.css)&&t.parentNode&&t.parentNode.removeChild(t)}get isDestroyed(){var t;return!(null===(t=this.view)||void 0===t?void 0:t.docView)}}class Yt{constructor(t={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...t},this.name=this.config.name,this.options=this.config.defaultOptions}static create(t={}){return new Yt(t)}configure(t={}){const e=this.extend();return e.options=z(this.options,t),e}extend(t={}){const e=new Yt(t);return e.parent=this,this.child=e,e.name=t.name?t.name:e.parent.name,e.options=t.defaultOptions?t.defaultOptions:e.parent.options,e}}class Gt{constructor(t={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...t},this.name=this.config.name,this.options=this.config.defaultOptions}static create(t={}){return new Gt(t)}configure(t={}){const e=this.extend();return e.options=z(this.options,t),e}extend(t={}){const e=new Gt(t);return e.parent=this,this.child=e,e.name=t.name?t.name:e.parent.name,e.options=t.defaultOptions?t.defaultOptions:e.parent.options,e}}function Zt(t,e,n){return new a.VK(t,((t,o,s,r)=>{const i=n instanceof Function?n(o):n,{tr:a}=t;return o[0]&&a.replaceWith(s-1,r,e.create(i)),a}))}function Xt(t,e,n){return new a.VK(t,((t,o,s,r)=>{const i=n instanceof Function?n(o):n,{tr:a}=t,c=o[o.length-1],d=o[0];let l=r;if(c){const n=d.search(/\S/),o=s+d.indexOf(c),u=o+c.length;if(function(t,e,n){let o=[];return n.doc.nodesBetween(t,e,((t,e)=>{o=[...o,...t.marks.map((n=>({from:e,to:e+t.nodeSize,mark:n})))]})),o}(s,r,t).filter((t=>{const{excluded:n}=t.mark.type;return n.find((t=>t.name===e.name))})).filter((t=>t.to>o)).length)return null;u<r&&a.delete(u,r),o>s&&a.delete(s+n,o),l=s+n+c.length,a.addMark(s+n,l,e.create(i)),a.removeStoredMark(e)}return a}))}function Qt(t,e,n){const s=(o,i)=>{const a=[];return o.forEach((o=>{if(o.isText&&o.text){const{text:s}=o;let r,c=0;for(;null!==(r=t.exec(s));){const t=Math.max(r.length-2,0),s=Math.max(r.length-1,0);if(null==i?void 0:i.type.allowsMarkType(e)){const i=r.index+r[0].indexOf(r[t]),d=i+r[t].length,l=i+r[t].lastIndexOf(r[s]),u=l+r[s].length,p=n instanceof Function?n(r):n;i>0&&a.push(o.cut(c,i)),a.push(o.cut(l,u).mark(e.create(p).addToSet(o.marks))),c=d}}c<s.length&&a.push(o.cut(c))}else a.push(o.copy(s(o.content,o)))})),r.HY.fromArray(a)};return new o.Sy({key:new o.H$("markPasteRule"),props:{transformPasted:t=>new r.p2(s(t.content),t.openStart,t.openEnd)}})}function te(t){return X(t)&&t instanceof o.qv}function ee(t,e,n){const o=t.coordsAtPos(e),s=t.coordsAtPos(n,-1),r=Math.min(o.top,s.top),i=Math.max(o.bottom,s.bottom),a=Math.min(o.left,s.left),c=Math.max(o.right,s.right),d={top:r,bottom:i,left:a,right:c,width:c-a,height:i-r,x:a,y:r};return{...d,toJSON:()=>d}}},2943:(t,e,n)=>{"use strict";n.d(e,{ZP:()=>r});var o=n(5416);const s=/!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\)/,r=o.NB.create({name:"image",defaultOptions:{inline:!1,HTMLAttributes:{}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes:()=>({src:{default:null},alt:{default:null},title:{default:null}}),parseHTML:()=>[{tag:"img[src]"}],renderHTML({HTMLAttributes:t}){return["img",(0,o.P1)(this.options.HTMLAttributes,t)]},addCommands(){return{setImage:t=>({commands:e})=>e.insertContent({type:this.name,attrs:t})}},addInputRules(){return[(0,o.x2)(s,this.type,(t=>{const[,e,n,o]=t;return{src:n,alt:e,title:o}}))]}})},7617:(t,e,n)=>{"use strict";n.d(e,{Z:()=>D});var o=n(5416),s=n(7920);const r=o.hj.create({name:"dropCursor",defaultOptions:{color:"currentColor",width:1,class:null},addProseMirrorPlugins(){return[(0,s.q)(this.options)]}});var i=n(9151);const a=o.hj.create({name:"gapCursor",addProseMirrorPlugins:()=>[(0,i.d)()],extendNodeSchema(t){var e;const n={name:t.name,options:t.options};return{allowGapCursor:null!==(e=(0,o.nU)((0,o.Nl)(t,"allowGapCursor",n)))&&void 0!==e?e:null}}}),c=o.NB.create({name:"doc",topNode:!0,content:"block+"}),d=o.NB.create({name:"paragraph",priority:1e3,defaultOptions:{HTMLAttributes:{}},group:"block",content:"inline*",parseHTML:()=>[{tag:"p"}],renderHTML({HTMLAttributes:t}){return["p",(0,o.P1)(this.options.HTMLAttributes,t),0]},addCommands:()=>({setParagraph:()=>({commands:t})=>t.toggleNode("paragraph","paragraph")}),addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),l=o.NB.create({name:"text",group:"inline"});var u=n(7446);const p=o.hj.create({name:"history",defaultOptions:{depth:100,newGroupDelay:500},addCommands:()=>({undo:()=>({state:t,dispatch:e})=>(0,u.Yw)(t,e),redo:()=>({state:t,dispatch:e})=>(0,u.KX)(t,e)}),addProseMirrorPlugins(){return[(0,u.m8)(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Mod-y":()=>this.editor.commands.redo(),"Shift-Mod-z":()=>this.editor.commands.redo()}}}),h=/(?:^|\s)((?:\*\*)((?:[^*]+))(?:\*\*))$/gm,m=/(?:^|\s)((?:\*\*)((?:[^*]+))(?:\*\*))/gm,f=/(?:^|\s)((?:__)((?:[^__]+))(?:__))$/gm,g=/(?:^|\s)((?:__)((?:[^__]+))(?:__))/gm,b=o.vc.create({name:"bold",defaultOptions:{HTMLAttributes:{}},parseHTML:()=>[{tag:"strong"},{tag:"b",getAttrs:t=>"normal"!==t.style.fontWeight&&null},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}],renderHTML({HTMLAttributes:t}){return["strong",(0,o.P1)(this.options.HTMLAttributes,t),0]},addCommands:()=>({setBold:()=>({commands:t})=>t.setMark("bold"),toggleBold:()=>({commands:t})=>t.toggleMark("bold"),unsetBold:()=>({commands:t})=>t.unsetMark("bold")}),addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold()}},addInputRules(){return[(0,o.Cf)(h,this.type),(0,o.Cf)(f,this.type)]},addPasteRules(){return[(0,o.K9)(m,this.type),(0,o.K9)(g,this.type)]}}),y=/(?:^|\s)((?:\*)((?:[^*]+))(?:\*))$/gm,v=/(?:^|\s)((?:\*)((?:[^*]+))(?:\*))/gm,M=/(?:^|\s)((?:_)((?:[^_]+))(?:_))$/gm,_=/(?:^|\s)((?:_)((?:[^_]+))(?:_))/gm,k=o.vc.create({name:"italic",defaultOptions:{HTMLAttributes:{}},parseHTML:()=>[{tag:"em"},{tag:"i",getAttrs:t=>"normal"!==t.style.fontStyle&&null},{style:"font-style=italic"}],renderHTML({HTMLAttributes:t}){return["em",(0,o.P1)(this.options.HTMLAttributes,t),0]},addCommands:()=>({setItalic:()=>({commands:t})=>t.setMark("italic"),toggleItalic:()=>({commands:t})=>t.toggleMark("italic"),unsetItalic:()=>({commands:t})=>t.unsetMark("italic")}),addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[(0,o.Cf)(y,this.type),(0,o.Cf)(M,this.type)]},addPasteRules(){return[(0,o.K9)(v,this.type),(0,o.K9)(_,this.type)]}}),w=/(?:^|\s)((?:`)((?:[^`]+))(?:`))$/gm,O=o.vc.create({name:"code",defaultOptions:{HTMLAttributes:{}},excludes:"_",parseHTML:()=>[{tag:"code"}],renderHTML({HTMLAttributes:t}){return["code",(0,o.P1)(this.options.HTMLAttributes,t),0]},addCommands:()=>({setCode:()=>({commands:t})=>t.setMark("code"),toggleCode:()=>({commands:t})=>t.toggleMark("code"),unsetCode:()=>({commands:t})=>t.unsetMark("code")}),addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[(0,o.Cf)(w,this.type)]},addPasteRules(){return[(0,o.K9)(w,this.type)]}});var T=n(896);const x=/^```(?<language>[a-z]*)? $/,H=/^~~~(?<language>[a-z]*)? $/,L=o.NB.create({name:"codeBlock",defaultOptions:{languageClassPrefix:"language-",HTMLAttributes:{}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:null,parseHTML:t=>{var e;const n=null===(e=t.firstElementChild)||void 0===e?void 0:e.getAttribute("class");if(!n)return null;const o=new RegExp(`^(${this.options.languageClassPrefix})`);return{language:n.replace(o,"")}},renderHTML:t=>t.language?{class:this.options.languageClassPrefix+t.language}:null}}},parseHTML:()=>[{tag:"pre",preserveWhitespace:"full"}],renderHTML({HTMLAttributes:t}){return["pre",this.options.HTMLAttributes,["code",t,0]]},addCommands:()=>({setCodeBlock:t=>({commands:e})=>e.setNode("codeBlock",t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode("codeBlock","paragraph",t)}),addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:e}=this.editor.state.selection,n=1===e.pos;return!(!t||e.parent.type.name!==this.name)&&!(!n&&e.parent.textContent.length)&&this.editor.commands.clearNodes()}}},addInputRules(){return[(0,T.zK)(x,this.type,(({groups:t})=>t)),(0,T.zK)(H,this.type,(({groups:t})=>t))]}}),S=o.NB.create({name:"heading",defaultOptions:{levels:[1,2,3,4,5,6],HTMLAttributes:{}},content:"inline*",group:"block",defining:!0,addAttributes:()=>({level:{default:1,rendered:!1}}),parseHTML(){return this.options.levels.map((t=>({tag:`h${t}`,attrs:{level:t}})))},renderHTML({node:t,HTMLAttributes:e}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,(0,o.P1)(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:t=>({commands:e})=>!!this.options.levels.includes(t.level)&&e.setNode("heading",t),toggleHeading:t=>({commands:e})=>!!this.options.levels.includes(t.level)&&e.toggleNode("heading","paragraph",t)}},addKeyboardShortcuts(){return this.options.levels.reduce(((t,e)=>({...t,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})})),{})},addInputRules(){return this.options.levels.map((t=>(0,T.zK)(new RegExp(`^(#{1,${t}})\\s$`),this.type,{level:t})))}}),C=o.NB.create({name:"hardBreak",defaultOptions:{HTMLAttributes:{}},inline:!0,group:"inline",selectable:!1,parseHTML:()=>[{tag:"br"}],renderHTML({HTMLAttributes:t}){return["br",(0,o.P1)(this.options.HTMLAttributes,t)]},addCommands(){return{setHardBreak:()=>({commands:t})=>t.first([()=>t.exitCode(),()=>t.insertContent({type:this.name})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),j=/(?:^|\s)((?:~~)((?:[^~]+))(?:~~))$/gm,A=/(?:^|\s)((?:~~)((?:[^~]+))(?:~~))/gm,E=o.vc.create({name:"strike",defaultOptions:{HTMLAttributes:{}},parseHTML:()=>[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>!!t.includes("line-through")&&{}}],renderHTML({HTMLAttributes:t}){return["s",(0,o.P1)(this.options.HTMLAttributes,t),0]},addCommands:()=>({setStrike:()=>({commands:t})=>t.setMark("strike"),toggleStrike:()=>({commands:t})=>t.toggleMark("strike"),unsetStrike:()=>({commands:t})=>t.unsetMark("strike")}),addKeyboardShortcuts(){return{"Mod-Shift-x":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[(0,o.Cf)(j,this.type)]},addPasteRules(){return[(0,o.K9)(A,this.type)]}}),z=/^\s*>\s$/gm,P=o.NB.create({name:"blockquote",defaultOptions:{HTMLAttributes:{}},content:"block*",group:"block",defining:!0,parseHTML:()=>[{tag:"blockquote"}],renderHTML({HTMLAttributes:t}){return["blockquote",(0,o.P1)(this.options.HTMLAttributes,t),0]},addCommands:()=>({setBlockquote:()=>({commands:t})=>t.wrapIn("blockquote"),toggleBlockquote:()=>({commands:t})=>t.toggleWrap("blockquote"),unsetBlockquote:()=>({commands:t})=>t.lift("blockquote")}),addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[(0,T.S0)(z,this.type)]}});var B=n(6922);const $=o.NB.create({name:"horizontalRule",defaultOptions:{HTMLAttributes:{}},group:"block",parseHTML:()=>[{tag:"hr"}],renderHTML({HTMLAttributes:t}){return["hr",(0,o.P1)(this.options.HTMLAttributes,t)]},addCommands(){return{setHorizontalRule:()=>({chain:t})=>t().insertContent({type:this.name}).command((({tr:t,dispatch:e})=>{var n;if(e){const{parent:e,pos:o}=t.selection.$from,s=o+1;if(!t.doc.nodeAt(s)){const o=null===(n=e.type.contentMatch.defaultType)||void 0===n?void 0:n.create();o&&(t.insert(s,o),t.setSelection(B.Bs.create(t.doc,s)))}t.scrollIntoView()}return!0})).run()}},addInputRules(){return[(0,o.x2)(/^(?:---|â€”-|___\s|\*\*\*\s)$/,this.type)]}}),N=/^\s*([-+*])\s$/,I=o.NB.create({name:"bulletList",defaultOptions:{HTMLAttributes:{}},group:"block list",content:"listItem+",parseHTML:()=>[{tag:"ul"}],renderHTML({HTMLAttributes:t}){return["ul",(0,o.P1)(this.options.HTMLAttributes,t),0]},addCommands:()=>({toggleBulletList:()=>({commands:t})=>t.toggleList("bulletList","listItem")}),addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){return[(0,T.S0)(N,this.type)]}}),R=/^(\d+)\.\s$/,K=o.NB.create({name:"orderedList",defaultOptions:{HTMLAttributes:{}},group:"block list",content:"listItem+",addAttributes:()=>({start:{default:1,parseHTML:t=>({start:t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1})}}),parseHTML:()=>[{tag:"ol"}],renderHTML({HTMLAttributes:t}){const{start:e,...n}=t;return 1===e?["ol",(0,o.P1)(this.options.HTMLAttributes,n),0]:["ol",(0,o.P1)(this.options.HTMLAttributes,t),0]},addCommands:()=>({toggleOrderedList:()=>({commands:t})=>t.toggleList("orderedList","listItem")}),addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){return[(0,T.S0)(R,this.type,(t=>({order:+t[1]})),((t,e)=>e.childCount+e.attrs.order===+t[1]))]}}),q=o.NB.create({name:"listItem",defaultOptions:{HTMLAttributes:{}},content:"paragraph block*",defining:!0,parseHTML:()=>[{tag:"li"}],renderHTML({HTMLAttributes:t}){return["li",(0,o.P1)(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem("listItem"),Tab:()=>this.editor.commands.sinkListItem("listItem"),"Shift-Tab":()=>this.editor.commands.liftListItem("listItem")}}}),D=o.hj.create({name:"starterKit",addExtensions(){var t,e,n,o,s,i,u,h,m,f,g,y,v,M,_,w,T,x;const H=[];return!1!==this.options.blockquote&&H.push(P.configure(null===(t=this.options)||void 0===t?void 0:t.blockquote)),!1!==this.options.bold&&H.push(b.configure(null===(e=this.options)||void 0===e?void 0:e.bold)),!1!==this.options.bulletList&&H.push(I.configure(null===(n=this.options)||void 0===n?void 0:n.bulletList)),!1!==this.options.code&&H.push(O.configure(null===(o=this.options)||void 0===o?void 0:o.code)),!1!==this.options.codeBlock&&H.push(L.configure(null===(s=this.options)||void 0===s?void 0:s.codeBlock)),!1!==this.options.document&&H.push(c.configure(null===(i=this.options)||void 0===i?void 0:i.document)),!1!==this.options.dropcursor&&H.push(r.configure(null===(u=this.options)||void 0===u?void 0:u.dropcursor)),!1!==this.options.gapcursor&&H.push(a.configure(null===(h=this.options)||void 0===h?void 0:h.gapcursor)),!1!==this.options.hardBreak&&H.push(C.configure(null===(m=this.options)||void 0===m?void 0:m.hardBreak)),!1!==this.options.heading&&H.push(S.configure(null===(f=this.options)||void 0===f?void 0:f.heading)),!1!==this.options.history&&H.push(p.configure(null===(g=this.options)||void 0===g?void 0:g.history)),!1!==this.options.horizontalRule&&H.push($.configure(null===(y=this.options)||void 0===y?void 0:y.horizontalRule)),!1!==this.options.italic&&H.push(k.configure(null===(v=this.options)||void 0===v?void 0:v.italic)),!1!==this.options.listItem&&H.push(q.configure(null===(M=this.options)||void 0===M?void 0:M.listItem)),!1!==this.options.orderedList&&H.push(K.configure(null===(_=this.options)||void 0===_?void 0:_.orderedList)),!1!==this.options.paragraph&&H.push(d.configure(null===(w=this.options)||void 0===w?void 0:w.paragraph)),!1!==this.options.strike&&H.push(E.configure(null===(T=this.options)||void 0===T?void 0:T.strike)),!1!==this.options.text&&H.push(l.configure(null===(x=this.options)||void 0===x?void 0:x.text)),H}})},7049:(t,e,n)=>{"use strict";n.d(e,{ML:()=>l,kg:()=>u});var o=n(5416),s=n(6922),r=n(5088);class i{constructor({editor:t,element:e,view:n,tippyOptions:o}){this.preventHide=!1,this.mousedownHandler=()=>{this.preventHide=!0},this.dragstartHandler=()=>{this.hide()},this.focusHandler=()=>{setTimeout((()=>this.update(this.editor.view)))},this.blurHandler=({event:t})=>{var e;this.preventHide?this.preventHide=!1:(null==t?void 0:t.relatedTarget)&&(null===(e=this.element.parentNode)||void 0===e?void 0:e.contains(t.relatedTarget))||this.hide()},this.editor=t,this.element=e,this.view=n,this.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.addEventListener("dragstart",this.dragstartHandler),this.editor.on("focus",this.focusHandler),this.editor.on("blur",this.blurHandler),this.createTooltip(o),this.element.style.visibility="visible"}createTooltip(t={}){this.tippy=(0,r.ZP)(this.view.dom,{duration:0,getReferenceClientRect:null,content:this.element,interactive:!0,trigger:"manual",placement:"top",hideOnClick:"toggle",...t})}update(t,e){const{state:n,composing:s}=t,{doc:r,selection:i}=n,a=e&&e.doc.eq(r)&&e.selection.eq(i);if(s||a)return;const{empty:c,ranges:d}=i,l=Math.min(...d.map((t=>t.$from.pos))),u=Math.max(...d.map((t=>t.$to.pos))),p=!r.textBetween(l,u).length&&(0,o.hT)(t.state.selection);c||p?this.hide():(this.tippy.setProps({getReferenceClientRect:()=>{if((0,o.EG)(t.state.selection)){const e=t.nodeDOM(l);if(e)return e.getBoundingClientRect()}return(0,o.pr)(t,l,u)}}),this.show())}show(){this.tippy.show()}hide(){this.tippy.hide()}destroy(){this.tippy.destroy(),this.element.removeEventListener("mousedown",this.mousedownHandler),this.view.dom.removeEventListener("dragstart",this.dragstartHandler),this.editor.off("focus",this.focusHandler),this.editor.off("blur",this.blurHandler)}}const a=new s.H$("menuBubble");o.hj.create({name:"bubbleMenu",defaultOptions:{element:null,tippyOptions:{}},addProseMirrorPlugins(){return this.options.element?[(t={editor:this.editor,element:this.options.element,tippyOptions:this.options.tippyOptions},new s.Sy({key:a,view:e=>new i({view:e,...t})}))]:[];var t}});class c{constructor({editor:t,element:e,view:n,tippyOptions:o}){this.preventHide=!1,this.mousedownHandler=()=>{this.preventHide=!0},this.focusHandler=()=>{setTimeout((()=>this.update(this.editor.view)))},this.blurHandler=({event:t})=>{var e;this.preventHide?this.preventHide=!1:(null==t?void 0:t.relatedTarget)&&(null===(e=this.element.parentNode)||void 0===e?void 0:e.contains(t.relatedTarget))||this.hide()},this.editor=t,this.element=e,this.view=n,this.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.editor.on("focus",this.focusHandler),this.editor.on("blur",this.blurHandler),this.createTooltip(o),this.element.style.visibility="visible"}createTooltip(t={}){this.tippy=(0,r.ZP)(this.view.dom,{duration:0,getReferenceClientRect:null,content:this.element,interactive:!0,trigger:"manual",placement:"right",hideOnClick:"toggle",...t})}update(t,e){const{state:n,composing:s}=t,{doc:r,selection:i}=n,a=e&&e.doc.eq(r)&&e.selection.eq(i);if(s||a)return;const{$anchor:c,empty:d,from:l,to:u}=i,p=1===c.depth,h=!i.$anchor.parent.isLeaf&&!i.$anchor.parent.textContent;d&&p&&h?(this.tippy.setProps({getReferenceClientRect:()=>(0,o.pr)(t,l,u)}),this.show()):this.hide()}show(){this.tippy.show()}hide(){this.tippy.hide()}destroy(){this.tippy.destroy(),this.element.removeEventListener("mousedown",this.mousedownHandler),this.editor.off("focus",this.focusHandler),this.editor.off("blur",this.blurHandler)}}const d=new s.H$("menuFloating");o.hj.create({name:"floatingMenu",defaultOptions:{element:null,tippyOptions:{}},addProseMirrorPlugins(){return this.options.element?[(t={editor:this.editor,element:this.options.element,tippyOptions:this.options.tippyOptions},new s.Sy({key:d,view:e=>new c({view:e,...t})}))]:[];var t}});class l extends o.ML{constructor(){super(...arguments),this.contentComponent=null}}const u={name:"EditorContent",props:{editor:{default:null,type:Object}},watch:{editor:{immediate:!0,handler(t){t&&t.options.element&&this.$nextTick((()=>{const e=this.$el;e&&t.options.element.firstChild&&(e.append(...t.options.element.childNodes),t.contentComponent=this,t.setOptions({element:e}),t.createNodeViews())}))}}},render:t=>t("div"),beforeDestroy(){const{editor:t}=this;if(!t)return;if(t.isDestroyed||t.view.setProps({nodeViews:{}}),t.contentComponent=null,!t.options.element.firstChild)return;const e=document.createElement("div");e.append(...t.options.element.childNodes),t.setOptions({element:e})}};Boolean}}]);