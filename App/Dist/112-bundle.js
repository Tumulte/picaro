(self.webpackChunkjavascript_development_environment=self.webpackChunkjavascript_development_environment||[]).push([[112],{112:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>j});var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{key:e.key},[a("v-form",{model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-switch",{staticClass:"ma-4",attrs:{label:"Valid",readonly:""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}}),e._l(e.modelCollection[e.moduleParams.model],(function(t){return a("div",{attrs:{"data-jest":"form-element"}},[a("rf"+t.type,{tag:"component",attrs:{"is-edit":e.isEdit,"field-params":t,"module-params":e.moduleParams,"field-data":e.modelData[t.name]},on:{updateData:e.updateData}})],1)})),e._l(e.modelCollection.appFilters,(function(t){return a("div",{attrs:{"data-jest":"form-element"}},[a("rf"+t.type,{tag:"component",attrs:{"model-params":t,"is-edit":!0,"field-data":e.modelData[t.name]},on:{updateData:e.updateData}})],1)})),a("v-btn",{attrs:{small:"",outlined:""},on:{click:function(t){return e.sendForm()}}},[e._v("Submit")]),a("v-select",{attrs:{multiple:"",items:e.availableFilterCollection.categories,"item-text":"label","item-value":"id",value:e.currentModelData.categories},on:{input:function(t){e.temporaryCategories=t}}})],2)],1)};o._withStripped=!0,a(8309),a(7941),a(1249),a(2526),a(7327),a(5003),a(4747),a(9337);var r=a(9669),n=a.n(r),l=function(){var e=this,t=e.$createElement;return(e._self._c||t)("v-switch",{attrs:{"data-jest":"boolean-field",rules:e.boolRules,label:e.label,name:e.name},model:{value:e.bool,callback:function(t){e.bool="string"==typeof t?t.trim():t},expression:"bool"}})};l._withStripped=!0;const i={name:"booleanSwitch",data:function(){var e=this;return{bool:"",boolRules:[function(t){return!e.required||!!t||"Name is required"}]}},props:{required:{type:Boolean,default:!1},label:{type:String,required:!0},name:{type:String,required:!0}},watch:{bool:function(){this.$emit("updateData",{name:this.name,value:{content:this.bool,fieldType:"boolean-switch",required:this.required}})}}};var s=a(1900),c=(0,s.Z)(i,l,[],!1,null,"c596a78e",null);c.options.__file="App/Ui/Components/partials/model/edit/_booleanSwitch.vue";const u=c.exports;var d=a(6413),m=a(1263),p=a(7417),f=a(3240),v=a(629),b=a(8917);function h(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,o)}return a}function y(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?h(Object(a),!0).forEach((function(t){g(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):h(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function g(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const D={name:"ModelForm",components:{rfBoolean:u,rfText:d.Z,rfRichText:m.Z,rfCategoryFilter:p.Z,VForm:f.Z},props:{modelData:{type:Object,default:function(){return{}}},moduleParams:{type:Object,require:!0},isEdit:{type:Boolean,default:!1}},data:function(){return{valid:!0,currentModelData:{},key:!0,temporaryCategories:null}},methods:y(y({},(0,v.nv)(["addAlert"])),{},{updateData:function(e){this.$set(this.currentModelData,e.name,e.value)},sendForm:function(){var e=this,t="post";this.temporaryCategories&&(this.currentModelData.categories=this.temporaryCategories),Object.keys(this.modelData).length>0&&(t="put"),this.currentModelData.id=(0,b.x0)(8),this.$nextTick((function(){n()[t]("/api/".concat(encodeURI(e.moduleParams.model)),e.currentModelData).then((function(){e.addAlert({type:"success",text:"Saved successfully"}),e.$emit("reloadData"),e.key=!e.key})).catch((function(t){e.addAlert({type:"error",text:"Request failed.  Returned status of ".concat(t)})}))}))}}),computed:y(y({},(0,v.Se)(["modelCollection","availableFilterCollection"])),{},{moduleCategories:function(){var e;return null===(e=this.moduleParams.categories)||void 0===e?void 0:e.map((function(e){return e.id}))}}),watch:{modelCollection:function(){this.currentModelData=this.modelCollection[this.moduleParams.model]}},created:function(){var e;this.currentModelData.categories=null===(e=this.moduleParams.categories)||void 0===e?void 0:e.map((function(e){return e.id})),Object.keys(this.modelData).length>0&&(this.currentModelData=this.modelData)}};var O=(0,s.Z)(D,o,[],!1,null,"68a3f1c3",null);O.options.__file="App/Ui/Components/modelForm.vue";const j=O.exports}}]);