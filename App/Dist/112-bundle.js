(self.webpackChunkjavascript_development_environment=self.webpackChunkjavascript_development_environment||[]).push([[112],{112:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>O});var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{key:e.key},[a("v-form",{model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-switch",{staticClass:"ma-4",attrs:{label:"Valid",readonly:""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}}),e._l(e.modelCollection[e.panelParams.model],(function(t){return a("div",{attrs:{"data-jest":"form-element"}},[a("rf"+t.type,{tag:"component",attrs:{"is-edit":e.isEdit,"field-params":t,"panel-params":e.panelParams,"field-data":e.modelData[t.name]},on:{updateData:e.updateData}})],1)})),e._l(e.modelCollection.appFilters,(function(t){return a("div",{attrs:{"data-jest":"form-element"}},[a("rf"+t.type,{tag:"component",attrs:{"model-params":t,"is-edit":!0,"field-data":e.modelData[t.name]},on:{updateData:e.updateData}})],1)})),a("v-btn",{attrs:{small:"",outlined:""},on:{click:function(t){return e.sendForm()}}},[e._v("Submit")]),a("v-select",{attrs:{multiple:"",items:e.availableFilterCollection.categories,"item-text":"label","item-value":"id",value:e.panelCategories},on:{input:function(t){e.currentModelData.categories=t}}})],2)],1)};l._withStripped=!0;var r=a(9669),o=a.n(r),n=function(){var e=this,t=e.$createElement;return(e._self._c||t)("v-switch",{attrs:{"data-jest":"boolean-field",rules:e.boolRules,label:e.label,name:e.name},model:{value:e.bool,callback:function(t){e.bool="string"==typeof t?t.trim():t},expression:"bool"}})};n._withStripped=!0;const i={name:"booleanSwitch",data:function(){return{bool:"",boolRules:[e=>!this.required||!!e||"Name is required"]}},props:{required:{type:Boolean,default:!1},label:{type:String,required:!0},name:{type:String,required:!0}},watch:{bool(){this.$emit("updateData",{name:this.name,value:{content:this.bool,fieldType:"boolean-switch",required:this.required}})}}};var s=a(1900),c=(0,s.Z)(i,n,[],!1,null,"c596a78e",null);c.options.__file="App/Ui/Components/partials/model/edit/_booleanSwitch.vue";const d=c.exports;var u=a(6413),p=a(1263),m=a(7417),f=a(629),v=a(8917);function h(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function b(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?h(Object(a),!0).forEach((function(t){y(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):h(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function y(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const D={name:"ModelForm",components:{rfBoolean:d,rfText:u.Z,rfRichText:p.Z,rfCategoryFilter:m.Z},props:{modelData:{type:Object,default:()=>({})},panelParams:{type:Object,require:!0},isEdit:{type:Boolean,default:!1}},data:()=>({valid:!0,currentModelData:{},key:!0}),methods:b(b({},(0,f.nv)(["addAlert"])),{},{updateData(e){this.$set(this.currentModelData,e.name,e.value)},sendForm(){let e="post";Object.keys(this.modelData).length>0&&(e="put"),this.currentModelData.id=(0,v.x0)(8),this.$nextTick((()=>{o()[e]("/api/".concat(encodeURI(this.panelParams.model)),this.currentModelData).then((()=>{this.addAlert({type:"success",text:"Saved successfully"}),this.$emit("reloadData"),this.key=!this.key})).catch((e=>{this.addAlert({type:"error",text:"Request failed.  Returned status of ".concat(e)})}))}))}}),computed:b(b({},(0,f.Se)(["modelCollection","availableFilterCollection"])),{},{panelCategories(){var e;return null===(e=this.panelParams.categories)||void 0===e?void 0:e.map((e=>e.id))}}),watch:{modelCollection(){this.currentModelData=this.modelCollection[this.panelParams.model]}},created(){var e;this.currentModelData.categories=null===(e=this.panelParams.categories)||void 0===e?void 0:e.map((e=>e.id)),Object.keys(this.modelData).length>0&&(this.currentModelData=this.modelData)}};var g=(0,s.Z)(D,l,[],!1,null,"68a3f1c3",null);g.options.__file="App/Ui/Components/modelForm.vue";const O=g.exports}}]);