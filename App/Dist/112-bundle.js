(self.webpackChunkjavascript_development_environment=self.webpackChunkjavascript_development_environment||[]).push([[112],{112:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>j});var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{key:e.key},[a("v-form",{model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-switch",{staticClass:"ma-4",attrs:{label:"Valid",readonly:""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}}),e._l(e.modelCollection[e.moduleParams.model],(function(t){return a("div",{attrs:{"data-jest":"form-element"}},[a("rf"+t.type,{tag:"component",attrs:{"is-edit":e.isEdit,"field-params":t,"module-params":e.moduleParams,"field-data":e.modelData[t.name]},on:{updateData:e.updateData}})],1)})),e._l(e.modelCollection.appFilters,(function(t){return a("div",{attrs:{"data-jest":"form-element"}},[a("rf"+t.type,{tag:"component",attrs:{"model-params":t,"is-edit":!0,"field-data":e.modelData[t.name]},on:{updateData:e.updateData}})],1)})),a("v-btn",{attrs:{small:"",outlined:""},on:{click:function(t){return e.sendForm()}}},[e._v("Submit")]),a("v-select",{attrs:{multiple:"",items:e.availableFilterCollection.categories,"item-text":"label","item-value":"id",value:e.currentModelData.categories},on:{input:function(t){e.temporaryCategories=t}}})],2)],1)};o._withStripped=!0;var r=a(9669),l=a.n(r),i=function(){var e=this,t=e.$createElement;return(e._self._c||t)("v-switch",{attrs:{"data-jest":"boolean-field",rules:e.boolRules,label:e.label,name:e.name},model:{value:e.bool,callback:function(t){e.bool="string"==typeof t?t.trim():t},expression:"bool"}})};i._withStripped=!0;const n={name:"booleanSwitch",data:function(){return{bool:"",boolRules:[e=>!this.required||!!e||"Name is required"]}},props:{required:{type:Boolean,default:!1},label:{type:String,required:!0},name:{type:String,required:!0}},watch:{bool(){this.$emit("updateData",{name:this.name,value:{content:this.bool,fieldType:"boolean-switch",required:this.required}})}}};var s=a(1900),d=(0,s.Z)(n,i,[],!1,null,"c596a78e",null);d.options.__file="App/Ui/Components/partials/model/edit/_booleanSwitch.vue";const c=d.exports;var u=a(6413),m=a(1263),p=a(7417),f=a(3240),h=a(629),v=a(8917);function b(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,o)}return a}function y(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?b(Object(a),!0).forEach((function(t){g(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):b(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function g(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const D={name:"ModelForm",components:{rfBoolean:c,rfText:u.Z,rfRichText:m.Z,rfCategoryFilter:p.Z,VForm:f.Z},props:{modelData:{type:Object,default:()=>({})},moduleParams:{type:Object,require:!0},isEdit:{type:Boolean,default:!1}},data:()=>({valid:!0,currentModelData:{},key:!0,temporaryCategories:null}),methods:y(y({},(0,h.nv)(["addAlert"])),{},{updateData(e){this.$set(this.currentModelData,e.name,e.value)},sendForm(){let e="post";this.temporaryCategories&&(this.currentModelData.categories=this.temporaryCategories),Object.keys(this.modelData).length>0&&(e="put"),this.currentModelData.id=(0,v.x0)(8),this.$nextTick((()=>{l()[e]("/api/".concat(encodeURI(this.moduleParams.model)),this.currentModelData).then((()=>{this.addAlert({type:"success",text:"Saved successfully"}),this.$emit("reloadData"),this.key=!this.key})).catch((e=>{this.addAlert({type:"error",text:"Request failed.  Returned status of ".concat(e)})}))}))}}),computed:y(y({},(0,h.Se)(["modelCollection","availableFilterCollection"])),{},{moduleCategories(){var e;return null===(e=this.moduleParams.categories)||void 0===e?void 0:e.map((e=>e.id))}}),watch:{modelCollection(){this.currentModelData=this.modelCollection[this.moduleParams.model]}},created(){var e;this.currentModelData.categories=null===(e=this.moduleParams.categories)||void 0===e?void 0:e.map((e=>e.id)),Object.keys(this.modelData).length>0&&(this.currentModelData=this.modelData)}};var O=(0,s.Z)(D,o,[],!1,null,"68a3f1c3",null);O.options.__file="App/Ui/Components/modelForm.vue";const j=O.exports}}]);